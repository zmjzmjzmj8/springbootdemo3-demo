webpackJsonp([4],{"1U3N":function(o,t,n){"use strict";(function(o){var e=n("V97F");t.a={created:function(){var o=this;Object(e.c)().then(function(t){o.userId=t.result.usrId})},data:function(){return{uploadImg:"",srcName:"",userId:""}},methods:{toUploadImg:function(){var o=this,t=this.$refs.toUploadImg.files[0];if(t.size/1024>256)return this.$Message.error("图片太大，请选择小于256KB的图片"),void this.$Message.config({top:50,duration:4});this.srcName=t.name;var n=this.srcName.substr(this.srcName.lastIndexOf(".")).toLowerCase();if(".jpg"!=n&&".gif"!=n&&".jpeg"!=n&&".png"!=n)return this.$Message.error("您上传图片的类型不符合(.jpg|.jpeg|.gif|.png)！"),this.$Message.config({top:50,duration:4}),void(this.srcName="");var e=new FileReader;e.readAsDataURL(t),e.onloadstart=function(){console.log("开始读取....")},e.onprogress=function(){console.log("正在读取中....")},e.onabort=function(){console.log("中断读取....")},e.onerror=function(){console.log("读取异常....")},e.onloadend=function(){console.log("读取成功...."),o.uploadImg=this.result}},doUpload:function(){var t=this,n=new FormData,e=this.$refs.uploadForm[0].files[0];n.append("file",e),n.append("userId",this.userId),o.ajax({url:"./uploadAvatar",type:"POST",data:n,async:!1,cache:!1,processData:!1,contentType:!1,dataType:"json",success:function(o){console.log(o),console.log("success"),t.$Message.success("上传成功！"),t.$Message.config({top:50,duration:4})},error:function(o,n,e){console.log(o.status),console.log(o.readyState),console.log(n),console.log("fail"),t.$Message.error("上传出错！"),t.$Message.config({top:50,duration:4})}})}},deactivated:function(){this.$destroy(!0)}}}).call(t,n("tra3"))},"1k+v":function(o,t,n){"use strict";var e=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{staticClass:"headPortrait"},[n("form",{ref:"uploadForm",attrs:{enctype:"multipart/form-data"}},[n("p",{staticClass:"file"},[o._v("选择文件\n      "),n("input",{ref:"toUploadImg",staticClass:"uploadBotton",attrs:{type:"file",name:"file"},on:{change:o.toUploadImg}})])]),o._v(" "),n("img",{staticClass:"uploadImgB",attrs:{src:o.uploadImg}}),o._v(" "),n("img",{staticClass:"uploadImgM",attrs:{src:o.uploadImg}}),o._v(" "),n("img",{staticClass:"uploadImgS",attrs:{src:o.uploadImg}}),n("br"),o._v("\n    "+o._s(o.srcName)+"\n    "),n("br"),o._v(" "),n("p",[n("input",{staticClass:"toUpload",attrs:{type:"button",value:"上传"},on:{click:o.doUpload}})])])},a=[],i={render:e,staticRenderFns:a};t.a=i},"77OX":function(o,t,n){t=o.exports=n("BkJT")(!0),t.push([o.i,".file{height:30px;width:85px;background:#fff;border:1px solid #2d8cf0;border-radius:4px;padding:4px 12px;overflow:hidden;color:#495060;line-height:20px;position:relative;margin:0 auto}.uploadImgB{height:90px;width:90px;margin-top:20px}.uploadImgM{height:60px;width:60px;margin-top:20px}.uploadImgS{height:29px;width:29px;margin-top:20px}.file input{position:absolute;height:30px;width:60px;right:0;top:0;opacity:0}.toUpload{height:30px;width:45px;background:#fff;border:1px solid #2d8cf0;border-radius:4px;padding:4px 8px;overflow:hidden;color:#495060;line-height:20px}","",{version:3,sources:["G:/vue-manage/src/components/head-Portrait.vue"],names:[],mappings:"AACA,MACE,YAAa,AACb,WAAY,AACZ,gBAAiB,AACjB,yBAA0B,AAC1B,kBAAmB,AACnB,iBAAkB,AAClB,gBAAiB,AACjB,cAAe,AACf,iBAAkB,AAClB,kBAAmB,AACnB,aAAe,CAChB,AACD,YACE,YAAa,AACb,WAAY,AACZ,eAAiB,CAClB,AACD,YACE,YAAa,AACb,WAAY,AACZ,eAAiB,CAClB,AACD,YACE,YAAa,AACb,WAAY,AACZ,eAAiB,CAClB,AACD,YACE,kBAAmB,AACnB,YAAa,AACb,WAAY,AACZ,QAAS,AACT,MAAO,AACP,SAAW,CACZ,AACD,UACE,YAAa,AACb,WAAY,AACZ,gBAAiB,AACjB,yBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,gBAAiB,AACjB,cAAe,AACf,gBAAkB,CACnB",file:"head-Portrait.vue",sourcesContent:["\n.file{\n  height: 30px;\n  width: 85px;\n  background: #fff;\n  border: 1px solid #2d8cf0;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #495060;\n  line-height: 20px;\n  position: relative;\n  margin: 0 auto;\n}\n.uploadImgB{\n  height: 90px;\n  width: 90px;\n  margin-top: 20px;\n}\n.uploadImgM{\n  height: 60px;\n  width: 60px;\n  margin-top: 20px;\n}\n.uploadImgS{\n  height: 29px;\n  width: 29px;\n  margin-top: 20px;\n}\n.file input {\n  position: absolute;\n  height: 30px;\n  width: 60px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.toUpload{\n  height: 30px;\n  width: 45px;\n  background: #fff;\n  border: 1px solid #2d8cf0;\n  border-radius: 4px;\n  padding: 4px 8px;\n  overflow: hidden;\n  color: #495060;\n  line-height: 20px;\n}\n"],sourceRoot:""}])},"B+WW":function(o,t,n){"use strict";function e(o){n("U+uU")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("1U3N"),i=n("1k+v"),s=n("46Yf"),A=e,r=s(a.a,i.a,!1,A,null,null);t.default=r.exports},"U+uU":function(o,t,n){var e=n("77OX");"string"==typeof e&&(e=[[o.i,e,""]]),e.locals&&(o.exports=e.locals);n("8bSs")("6abe4aff",e,!0)}});
//# sourceMappingURL=4.6e21915de310ea40e594.js.map